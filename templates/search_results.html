{% extends "base.html" %}

{% block title %}Search Results - Mediarr{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Search Results for "{{ query }}"</h1>
    <p class="text-muted">Searching for {{ artwork_type }} artwork</p>
</div>

<div class="row">
    {% if results %}
        {% for result in results %}
        <div class="col-md-3 mb-4">
            <div class="card">
                {% if result.poster_path %}
                    <img src="https://image.tmdb.org/t/p/w500{{ result.poster_path }}" class="card-img-top" alt="{{ result.title or result.name }}">
                {% else %}
                    <div class="card-img-top bg-secondary text-center py-5">
                        <span>No Poster</span>
                    </div>
                {% endif %}
                <div class="card-body">
                    <h5 class="card-title">{{ result.title or result.name }}</h5>
                    {% if result.release_date %}
                        <p class="card-text"><small>Release: {{ result.release_date }}</small></p>
                    {% elif result.first_air_date %}
                        <p class="card-text"><small>First Air: {{ result.first_air_date }}</small></p>
                    {% endif %}
                    <a href="{{ url_for('select_artwork', media_type=media_type, tmdb_id=result.id, artwork_type=artwork_type, directory=directory) }}"
                       class="btn btn-custom btn-block">
                        Select {{ artwork_type.capitalize() }}
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <div class="col-12">
            <div class="alert alert-warning">
                No results found for "{{ query }}"
            </div>
            <a href="{{ url_for('index' if media_type == 'movie' else 'tv_shows') }}" class="btn btn-custom">‚Üê Back</a>
        </div>
    {% endif %}
</div>
{% endblock %}
